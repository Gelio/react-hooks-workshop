(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,n){e.exports=n(252)},120:function(e,t,n){},252:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(50),o=n.n(c),i=(n(120),n(62)),u=n(17),l=n(36);function s(e){var t=e.id,n=e.checked,c=e.children,o=e.onChange,i=e.disabled,u=Object(a.useCallback)(function(e){return o(e.target.checked)},[o]);return r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",id:t,checked:n,onChange:u,disabled:i}),r.a.createElement("label",{htmlFor:t},c))}function d(e){return[e.getFullYear(),e.getMonth()+1,e.getDate()].map(function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return new Array(Math.max(e-t.length,0)).fill(n).join("")+t}(2,e.toString())}).join("-")}var f=["USD","EUR","PLN","GBP","CHF"];function b(e){var t=e.onUpdate,n=Object(a.useState)(f[0]),c=Object(u.a)(n,2),o=c[0],i=c[1],b=Object(a.useState)([f[1],f[2]]),m=Object(u.a)(b,2),g=m[0],v=m[1],h=Object(a.useState)(new Date(2018,1,10)),j=Object(u.a)(h,2),O=j[0],E=j[1],p=Object(a.useState)(new Date),C=Object(u.a)(p,2),y=C[0],k=C[1];Object(a.useEffect)(function(){t({baseCurrency:o,foreignCurrencies:g,fromDate:O,toDate:y})},[o,g,O,y]);var w=Object(a.useCallback)(function(e){i(e.target.value);var t=g.indexOf(e.target.value);-1!==t&&v([].concat(Object(l.a)(g.slice(0,t)),Object(l.a)(g.slice(t+1))))},[i,g,v]),D=Object(a.useCallback)(function(e){E(new Date(e.target.value))},[E]),S=Object(a.useCallback)(function(e){k(new Date(e.target.value))},[k]);return r.a.createElement("div",null,r.a.createElement("div",null,"Base currency:",r.a.createElement("select",{value:o,onChange:w},f.map(function(e){return r.a.createElement("option",{value:e,key:e},e)}))),r.a.createElement("div",null,"Foreign currencies:",f.map(function(e,t){return r.a.createElement(s,{id:"foreign-".concat(e),checked:g.includes(e),disabled:e===o,key:e,onChange:function(){var t=g.indexOf(e);v(-1===t?[].concat(Object(l.a)(g),[e]):[].concat(Object(l.a)(g.slice(0,t)),Object(l.a)(g.slice(t+1))))}},e)})),r.a.createElement("div",null,"From date:"," ",r.a.createElement("input",{type:"date",value:d(O),onChange:D})),r.a.createElement("div",null,"To date:"," ",r.a.createElement("input",{type:"date",value:d(y),onChange:S})))}var m=n(257),g=n(250),v=n(251),h=n(256),j=n(253),O=n(61),E=n(254);var p=["#8883d8","#82ca9d","#6d888b","#25f486","#d1d91f","#8c0abb","#0cbbde","#ce3507","#5a2b86","#e68c8d"];function C(e){var t=e.rates,n=e.foreignCurrencies,c=Object(a.useMemo)(function(){return function(e){return Object.keys(e).map(function(t){return Object(i.a)({date:t},e[t])})}(t)},[t]);return r.a.createElement(m.a,{width:800,height:500,data:c},r.a.createElement(g.a,{dataKey:"date"}),r.a.createElement(v.a,null),r.a.createElement(h.a,{stroke:"#eee",strokeDasharray:"5 5"}),r.a.createElement(j.a,null),r.a.createElement(O.a,null),n.map(function(e,t){return r.a.createElement(E.a,{type:"linear",dot:!1,dataKey:e,key:e,stroke:p[t%p.length]})}))}var y=n(0),k=n.n(y);function w(e){var t=e.fromDate,n=e.toDate,r=e.baseCurrency,c=e.foreignCurrencies,o=Object(a.useState)(!0),i=Object(u.a)(o,2),l=i[0],s=i[1],f=Object(a.useState)({}),b=Object(u.a)(f,2),m=b[0],g=b[1];return Object(a.useEffect)(function(){s(!0);var e=function(e){var t=e.fromDate,n=e.toDate,a=e.baseCurrency,r=e.foreignCurrencies.join(",");return["start_at=".concat(d(t)),"end_at=".concat(d(n)),"base=".concat(a),"symbols=".concat(r)].join("&")}({fromDate:t,toDate:n,baseCurrency:r,foreignCurrencies:c}),a=function(e){var t=new AbortController;return[fetch(e,{signal:t.signal}),function(){return t.abort()}]}("https://api.exchangeratesapi.io/history?".concat(e)),o=Object(u.a)(a,2),i=o[0],l=o[1];return i.then(function(e){return e.json()}).then(function(e){s(!1),g(e.rates)}),function(){l()}},[t,n,r,c]),{loading:l,rates:m}}function D(e){var t=e.fromDate,n=e.toDate,a=e.baseCurrency,r=e.foreignCurrencies,c=e.children,o=w({fromDate:t,toDate:n,baseCurrency:a,foreignCurrencies:r});return c({loading:o.loading,rates:o.rates})}D.propTypes={children:k.a.func.isRequired};var S=function(){var e=Object(a.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useCallback)(function(e){c(Object(i.a)({},n,e))},[n,c]);return r.a.createElement("div",null,r.a.createElement("h1",null,"Foreign currency rates chart"),r.a.createElement(b,{onUpdate:o}),n&&r.a.createElement(D,n,function(e){var t=e.loading,a=e.rates;return t?r.a.createElement("p",null,"Loading..."):r.a.createElement(C,{rates:a,foreignCurrencies:n.foreignCurrencies})}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[115,2,1]]]);
//# sourceMappingURL=main.6c59a4c2.chunk.js.map